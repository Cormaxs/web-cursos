{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/tomas/Desktop/proyectos/cursos/web-cursos/pages/cursos/whatch-course.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\n// IMPORTACIÓN DE MOCK DE DATOS\r\n// Reemplaza esto con tu ruta real: import { courses } from '../../data-base/courses';\r\nconst courses = [\r\n    {\r\n        id: 1,\r\n        nameCourse: \"Domina los Agentes de IA en 30 días\",\r\n        instructor: \"Juanito el huerfanito\",\r\n        description: \"Aprende a construir agentes de IA avanzados.\",\r\n        duration: \"10 horas\",\r\n        price: \"Gratis\",\r\n        syllabus: [\r\n            // Nota: Se asume que tu base de datos usa 'videoUrl' como el ID de YouTube\r\n            { id: 101, title: \"Introducción a los agentes de IA\", videoUrl: \"vB-W17jT08k\" },\r\n            { id: 102, title: \"Configuración del entorno y primeros pasos\", videoUrl: \"y-jU-4lR7gM\" }\r\n        ]\r\n    },\r\n    {\r\n        id: 2,\r\n        nameCourse: \"Estructuras de Datos Avanzadas\",\r\n        instructor: \"Prof. Algoritmo\",\r\n        description: \"Un curso profundo sobre árboles, grafos y tablas hash.\",\r\n        duration: \"15 horas\",\r\n        price: \"$50\",\r\n        syllabus: [\r\n            { id: 201, title: \"Introducción a Árboles AVL\", videoUrl: \"Qp4u8_iWpQo\" },\r\n            { id: 202, title: \"Recorridos en Grafos (DFS/BFS)\", videoUrl: \"c_l42t2qJ20\" }\r\n        ]\r\n    }\r\n];\r\n\r\n// =================================================================\r\n// MOCK useRouter: Implementación de simulación para entornos sin Next.js\r\n// Se define para evitar el error de compilación \"Could not resolve next/router\"\r\n// =================================================================\r\nconst mockUseRouter = () => {\r\n    // Función para obtener los parámetros de la URL\r\n    const getQueryParams = () => {\r\n        const params = {};\r\n        if (typeof window !== 'undefined') {\r\n            const searchParams = new URLSearchParams(window.location.search);\r\n            \r\n            // Si no hay parámetros en la URL, se usan valores por defecto para previsualización\r\n            if (!searchParams.has('id') && !searchParams.has('video')) {\r\n                return { id: '1', video: '101' }; \r\n            }\r\n            for (const [key, value] of searchParams.entries()) {\r\n                params[key] = value;\r\n            }\r\n        }\r\n        return params;\r\n    };\r\n\r\n    // Simulación de navegación (para los botones de regreso)\r\n    const push = (url) => { \r\n        console.log(`[Simulación de Navegación] Intentando navegar a: ${url}`);\r\n    };\r\n\r\n    return {\r\n        query: getQueryParams(),\r\n        isReady: true,\r\n        push,\r\n    };\r\n};\r\n\r\n// En un entorno Next.js real, usarías: import { useRouter } from 'next/router';\r\n// Aquí, la definimos como el mock para que compile.\r\nconst useRouter = mockUseRouter;\r\n\r\n\r\nconst WatchCourse = () => {\r\n    // 1. Inicialización y extracción de parámetros del router\r\n    const router = useRouter(); \r\n    const { id: courseId, video: videoId } = router.query; \r\n    \r\n    // 2. Estados\r\n    const [course, setCourse] = useState(null);\r\n    const [videoItem, setVideoItem] = useState(null);\r\n    const [loading, setLoading] = useState(true);\r\n\r\n    useEffect(() => {\r\n        // Ejecutar la lógica de búsqueda solo cuando el router esté listo y los IDs existan\r\n        if (router.isReady && courseId && videoId) {\r\n            // 1. Buscar el curso por ID (asegurando la comparación de tipos)\r\n            const foundCourse = courses.find(c => c.id.toString() === courseId);\r\n            setCourse(foundCourse);\r\n\r\n            if (foundCourse) {\r\n                // 2. Buscar el video dentro del temario (syllabus)\r\n                const foundVideo = foundCourse.syllabus.find(v => v.id.toString() === videoId);\r\n                setVideoItem(foundVideo);\r\n            }\r\n            setLoading(false);\r\n        } else if (router.isReady) {\r\n            // Si el router está listo pero faltan IDs (o son inválidos), terminamos la carga\r\n            setLoading(false);\r\n        }\r\n        // Nota: router.query está implícitamente incluida en courseId y videoId.\r\n    }, [courseId, videoId, router.isReady]);\r\n\r\n\r\n    // --- 3. Renderizado de Carga ---\r\n    if (loading) {\r\n        return (\r\n            <div className=\"flex items-center justify-center h-48 bg-gray-50 p-8 rounded-xl shadow-inner\">\r\n                <p className=\"text-xl font-medium text-indigo-600\">Cargando el contenido del curso...</p>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    // --- 4. Manejo de Errores (404) ---\r\n    if (!course || !videoItem) {\r\n        return (\r\n            <div className=\"p-8 text-center bg-red-100 rounded-xl max-w-lg mx-auto mt-10 shadow-lg border border-red-300\">\r\n                <h1 className=\"text-2xl font-bold text-red-800 mb-2\">Error 404 - Contenido No Encontrado</h1>\r\n                <p className=\"text-gray-600 mt-2\">\r\n                    No pudimos encontrar el curso o la lección solicitada.\r\n                </p>\r\n                <button \r\n                    className=\"mt-4 px-6 py-2 bg-indigo-600 text-white font-semibold rounded-lg hover:bg-indigo-700 transition shadow-md\"\r\n                    // Usa router.push (simulado aquí)\r\n                    onClick={() => router.push('/cursos')}\r\n                >\r\n                    Volver al Inicio\r\n                </button>\r\n            </div>\r\n        );\r\n    }\r\n    \r\n    // --- 5. Renderizado Principal ---\r\n    // Usamos el campo 'videoUrl' de tu objeto de temario.\r\n    const youtubeEmbedUrl = `https://www.youtube.com/embed/${videoItem.videoUrl}?autoplay=1&rel=0`;\r\n\r\n    return (\r\n        <div className=\"p-4 sm:p-8 bg-gray-100 min-h-screen\">\r\n            <div className=\"max-w-6xl mx-auto\">\r\n                {/* Enlace de regreso con router.push (simulado aquí) */}\r\n                <button \r\n                    className=\"text-indigo-600 hover:text-indigo-800 transition block mb-4 font-medium flex items-center\"\r\n                    onClick={() => router.push(`/cursos/see-course?id=${course.id}`)}\r\n                >\r\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-5 w-5 mr-2\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\r\n                        <path fillRule=\"evenodd\" d=\"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z\" clipRule=\"evenodd\" />\r\n                    </svg>\r\n                    Volver al temario de: {course.nameCourse}\r\n                </button>\r\n\r\n                <h1 className=\"text-3xl sm:text-4xl font-extrabold text-gray-900 mb-2\">\r\n                    {videoItem.title}\r\n                </h1>\r\n                <p className=\"text-lg text-gray-600 mb-6\">\r\n                    Módulo: <span className=\"font-semibold text-indigo-700\">{course.nameCourse}</span>\r\n                </p>\r\n\r\n                {/* Contenedor del Iframe Responsive (16:9 aspect ratio) */}\r\n                <div className=\"relative pt-[56.25%] mb-8 bg-gray-800 rounded-xl shadow-2xl overflow-hidden\">\r\n                    <iframe\r\n                        className=\"absolute top-0 left-0 w-full h-full\"\r\n                        src={youtubeEmbedUrl}\r\n                        title={`Reproduciendo: ${videoItem.title}`}\r\n                        frameBorder=\"0\"\r\n                        allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share\"\r\n                        referrerPolicy=\"strict-origin-when-cross-origin\"\r\n                        allowFullScreen\r\n                    ></iframe>\r\n                </div>\r\n                \r\n                {/* Información adicional */}\r\n                <div className=\"bg-white p-6 rounded-xl shadow-lg border-t-4 border-indigo-500\">\r\n                    <h2 className=\"text-2xl font-bold text-gray-800 mb-3\">Información de la lección</h2>\r\n                    <ul className=\"space-y-1 text-gray-700\">\r\n                        <li><span className=\"font-semibold\">Instructor:</span> {course.instructor}</li>\r\n                        <li><span className=\"font-semibold\">Descripción del Curso:</span> {course.description}</li>\r\n                        <li><span className=\"font-semibold\">ID de Lección:</span> {videoId}</li>\r\n                    </ul>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default WatchCourse;"],"names":[],"mappings":"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"}}]
}